const _0x16fecc=_0x554f;(function(_0x1d9e1d,_0x1cd79a){const _0x5be09d=_0x554f,_0xfe4d42=_0x1d9e1d();while(!![]){try{const _0x526110=parseInt(_0x5be09d(0xd4))/0x1*(parseInt(_0x5be09d(0xe8))/0x2)+parseInt(_0x5be09d(0xdb))/0x3*(parseInt(_0x5be09d(0xd2))/0x4)+parseInt(_0x5be09d(0xc7))/0x5+parseInt(_0x5be09d(0xd9))/0x6+parseInt(_0x5be09d(0xd6))/0x7*(parseInt(_0x5be09d(0xc2))/0x8)+-parseInt(_0x5be09d(0xef))/0x9*(-parseInt(_0x5be09d(0xf2))/0xa)+parseInt(_0x5be09d(0xf6))/0xb*(-parseInt(_0x5be09d(0xe0))/0xc);if(_0x526110===_0x1cd79a)break;else _0xfe4d42['push'](_0xfe4d42['shift']());}catch(_0x459530){_0xfe4d42['push'](_0xfe4d42['shift']());}}}(_0x2e72,0xcb637));import{decodeSuiPrivateKey}from'@mysten/sui/cryptography';import{Ed25519Keypair}from'@mysten/sui/keypairs/ed25519';import{Helper}from'../utils/helper.js';function _0x554f(_0x465fec,_0xd12f00){const _0x2e72e6=_0x2e72();return _0x554f=function(_0x554fc6,_0x28868e){_0x554fc6=_0x554fc6-0xc1;let _0x28cba4=_0x2e72e6[_0x554fc6];return _0x28cba4;},_0x554f(_0x465fec,_0xd12f00);}import{Transaction}from'@mysten/sui/transactions';import{getFullnodeUrl,SuiClient}from'@mysten/sui/client';function _0x2e72(){const _0x2beb7e=['totalBalance','mergeCoin','toJSON','getBalance','secretKey','metadata','78HiNjOR','data','coin','delay','balance','getCoins','pow','5125293ugcKJT','map','object','10npufPI','acc','0x2::sui::SUI','fromSecretKey','18202965LqPmrx','Merging\x20Coin','length','Successfully\x20Get\x20Account\x20Balance','getAllBalances','wallet','1096HisImX','address','Tx\x20Executed\x20:\x20','client','name','7379590QLJOqK','Getting\x20Account\x20Balance...','digest','slice','getPublicKey','mergeCoins','EXPLORER','decimals','\x20of\x20','Executing\x20Tx\x20...','push','3277012KlaUVV','toSuiAddress','28835WctSxN','format','12215WMUXuZ','getCoinMetadata','coinObjectId','4499958wTGfzb','executeTx','6bJkYtL','coinType','signAndExecuteTransaction','No\x20Need\x20to\x20Merge\x20','getAccountInfo','36SINfoY','NumberFormat'];_0x2e72=function(){return _0x2beb7e;};return _0x2e72();}import _0xc64343 from'../utils/logger.js';import{RPC}from'./network/rpc.js';export default class Core{constructor(_0xe03743){const _0x4b6d2f=_0x554f;this[_0x4b6d2f(0xf3)]=_0xe03743,this['txCount']=0x0,this[_0x4b6d2f(0xc5)]=new SuiClient({'url':getFullnodeUrl(RPC['NETWORK'])});}async[_0x16fecc(0xdf)](){const _0x52b820=_0x16fecc;try{await Helper[_0x52b820(0xeb)](0x1f4,this[_0x52b820(0xf3)],'Getting\x20Account\x20Information...',this);const _0x4c2a93=decodeSuiPrivateKey(this[_0x52b820(0xf3)]);this[_0x52b820(0xc1)]=Ed25519Keypair[_0x52b820(0xf5)](_0x4c2a93[_0x52b820(0xe6)]),this[_0x52b820(0xc3)]=this['wallet'][_0x52b820(0xcb)]()[_0x52b820(0xd3)](),await Helper[_0x52b820(0xeb)](0x3e8,this[_0x52b820(0xf3)],'Successfully\x20Get\x20Account\x20Information',this);}catch(_0x5bf410){throw _0x5bf410;}}async[_0x16fecc(0xe3)](_0x29c4f2){const _0x15423d=_0x16fecc;try{if(!_0x29c4f2[_0x15423d(0xea)]||_0x29c4f2[_0x15423d(0xea)][_0x15423d(0xf8)]<0x2){await Helper[_0x15423d(0xeb)](0x3e8,this[_0x15423d(0xf3)],_0x15423d(0xde)+_0x29c4f2['metadata'][_0x15423d(0xc6)]+'\x20Coin',this);return;}while(_0x29c4f2[_0x15423d(0xea)]['length']>0x2){await Helper[_0x15423d(0xeb)](0x1f4,this['acc'],_0x15423d(0xf7),this);const _0x19cd5e=new Transaction();let _0x11bfc1,_0x39ec55;_0x39ec55['coin'][0x0][_0x15423d(0xdc)]==_0x15423d(0xf4)?(_0x11bfc1=_0x39ec55[_0x15423d(0xea)][0x1][_0x15423d(0xd8)],coinsToMerge=_0x39ec55[_0x15423d(0xea)]['slice'](0x2)[_0x15423d(0xf0)](_0x47a549=>_0x47a549[_0x15423d(0xd8)])):(_0x11bfc1=_0x39ec55[_0x15423d(0xea)][0x0][_0x15423d(0xd8)],coinsToMerge=_0x39ec55[_0x15423d(0xea)][_0x15423d(0xca)](0x1)['map'](_0x35068f=>_0x35068f[_0x15423d(0xd8)])),await Helper[_0x15423d(0xeb)](0x3e8,this[_0x15423d(0xf3)],'Merging\x20'+coinsToMerge[_0x15423d(0xf8)]+_0x15423d(0xcf)+_0x39ec55[_0x15423d(0xe7)][_0x15423d(0xc6)]+'\x20',this),await _0x19cd5e[_0x15423d(0xcc)](_0x19cd5e[_0x15423d(0xf1)](_0x11bfc1),coinsToMerge[_0x15423d(0xf0)](_0x255b89=>_0x19cd5e[_0x15423d(0xf1)](_0x255b89))),await this[_0x15423d(0xda)](_0x19cd5e),await this['getBalance']();}}catch(_0x2bafcb){throw _0x2bafcb;}}async[_0x16fecc(0xe5)](_0x4a0e6c=![]){const _0x2179d1=_0x16fecc;try{if(_0x4a0e6c)await Helper['delay'](0x1f4,this[_0x2179d1(0xf3)],_0x2179d1(0xc8),this);const _0x160387=await this['client'][_0x2179d1(0xfa)]({'owner':this[_0x2179d1(0xc3)]});this[_0x2179d1(0xec)]=[];for(const _0x11264b of _0x160387){const _0x56e0b6=await this[_0x2179d1(0xc5)][_0x2179d1(0xed)]({'owner':this[_0x2179d1(0xc3)],'coinType':_0x11264b[_0x2179d1(0xdc)]}),_0x56af65=await this[_0x2179d1(0xc5)][_0x2179d1(0xd7)]({'coinType':_0x11264b[_0x2179d1(0xdc)]});_0x11264b[_0x2179d1(0xea)]=_0x56e0b6[_0x2179d1(0xe9)],_0x11264b['metadata']=_0x56af65,_0x11264b[_0x2179d1(0xe2)]=new Intl[(_0x2179d1(0xe1))]('en-US',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2})[_0x2179d1(0xd5)](parseFloat(Number(_0x11264b[_0x2179d1(0xe2)])/Math[_0x2179d1(0xee)](0xa,_0x56af65[_0x2179d1(0xce)]))),this['balance'][_0x2179d1(0xd1)](_0x11264b);}if(_0x4a0e6c)await Helper['delay'](0x3e8,this['acc'],_0x2179d1(0xf9),this);}catch(_0x4032be){throw _0x4032be;}}async['executeTx'](_0x5cd219){const _0x4c4e79=_0x16fecc;try{await Helper[_0x4c4e79(0xeb)](0x3e8,this[_0x4c4e79(0xf3)],_0x4c4e79(0xd0),this),_0xc64343['info'](await _0x5cd219[_0x4c4e79(0xe4)]());const _0x1225ec=await this[_0x4c4e79(0xc5)][_0x4c4e79(0xdd)]({'signer':this['wallet'],'transaction':_0x5cd219});await Helper[_0x4c4e79(0xeb)](0xbb8,this[_0x4c4e79(0xf3)],_0x4c4e79(0xc4)+(RPC[_0x4c4e79(0xcd)]+'txblock/'+_0x1225ec[_0x4c4e79(0xc9)]),this),await this[_0x4c4e79(0xe5)]();}catch(_0x473757){throw _0x473757;}}}